"use strict";(self.webpackChunkE_Commerce=self.webpackChunkE_Commerce||[]).push([[771],{7771:(mt,v,s)=>{s.r(v),s.d(v,{ProductsModule:()=>ut});var p=s(6895),d=s(3626),t=s(8274),A=s(9885),Z=s(529);let I=(()=>{class o{constructor(e){this._httpClient=e}getAllProducts(){return this._httpClient.get(`${A.N.baseUrl}/api/v1/products`)}getSpecificProduct(e){return this._httpClient.get(`${A.N.baseUrl}/api/v1/products/${e}`)}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(Z.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var P=s(7282),m=s(805),u=s(4032),_=s(2196),g=s(3997),x=s(6679),l=s(4006),f=s(5593),T=s(7489),h=s(3608),C=s(5247),y=s(7203);function O(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",12),t._UZ(1,"p-dataViewLayoutOptions"),t.qZA(),t.TgZ(2,"div",12)(3,"input",13),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw(2);return t.KtG(a.searchTerm=i)}),t.ALo(4,"translate"),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.uIk("layout",e.layout),t.xp6(2),t.s9C("placeholder",t.lcZ(4,3,"FORM.SEARCH")),t.Q6J("ngModel",e.searchTerm)}}function w(o,c){1&o&&t._UZ(0,"p-skeleton")}function L(o,c){if(1&o&&t._UZ(0,"img",33),2&o){const e=t.oxw().$implicit;t.Q6J("src",e.imageCover,t.LSH)("alt",e.title)("title",e.title)}}function U(o,c){if(1&o&&(t.TgZ(0,"span",34),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.gM2(2,1,e.price,"EGY","symbol","1.0-0"))}}function M(o,c){if(1&o&&(t.TgZ(0,"div",35)(1,"span",36),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.TgZ(4,"span",37),t._uU(5),t.ALo(6,"currency"),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.gM2(3,2,e.priceAfterDiscount,"EGY","symbol","1.0-0")),t.xp6(3),t.Oqu(t.gM2(6,7,e.price,"EGY","symbol","1.0-0"))}}const b=function(o,c){return["productDetails",o,c]};function J(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t.YNc(2,w,1,0,"p-skeleton",16),t.YNc(3,L,1,3,"img",17),t.TgZ(4,"div",18)(5,"div",19)(6,"div",20),t._uU(7),t.qZA(),t.TgZ(8,"p-rating",21),t.NdJ("ngModelChange",function(i){const r=t.CHM(e).$implicit;return t.KtG(r.ratingsAverage=i)}),t.qZA(),t.TgZ(9,"span",22),t._UZ(10,"i",23),t.TgZ(11,"span",24),t._uU(12),t.qZA()(),t._UZ(13,"p-tag",25),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",26),t.YNc(16,U,3,6,"span",27),t.YNc(17,M,7,12,"div",28),t.TgZ(18,"button",29),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.addProductToCart(a.id))}),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"button",30),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.addProductToWishList(a.id))}),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"a",31),t._UZ(23,"button",32),t.ALo(24,"translate"),t.qZA()()()()()}if(2&o){const e=c.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.contentLoaded),t.xp6(1),t.Q6J("ngIf",n.contentLoaded),t.xp6(3),t.s9C("pTooltip",e.title),t.xp6(1),t.hij("",e.title.split(" ").splice(0,3).join(" ")," "),t.xp6(1),t.Q6J("ngModel",e.ratingsAverage)("readonly",!0)("cancel",!1),t.xp6(4),t.Oqu(e.category.name),t.xp6(1),t.s9C("value",t.lcZ(14,15,"PRODUCTS.IN_STOCK")),t.xp6(3),t.Q6J("ngIf",!e.priceAfterDiscount),t.xp6(1),t.Q6J("ngIf",e.priceAfterDiscount),t.xp6(1),t.s9C("pTooltip",t.lcZ(19,17,"PRODUCTS.ADD_TO_CART")),t.xp6(2),t.s9C("pTooltip",t.lcZ(21,19,"PRODUCTS.ADD_TO_WISHLIST")),t.xp6(2),t.Q6J("routerLink",t.WLB(23,b,e.title,e._id)),t.xp6(1),t.s9C("pTooltip",t.lcZ(24,21,"PRODUCTS.PRODUCT_DETAILS"))}}function q(o,c){1&o&&t._UZ(0,"p-skeleton")}function E(o,c){if(1&o&&t._UZ(0,"img",33),2&o){const e=t.oxw().$implicit;t.Q6J("src",e.imageCover,t.LSH)("alt",e.title)("title",e.title)}}function Y(o,c){if(1&o&&(t.TgZ(0,"span",34),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.gM2(2,1,e.price,"EGY","symbol","1.0-0"))}}function N(o,c){if(1&o&&(t.TgZ(0,"div",35)(1,"span",36),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.TgZ(4,"span",37),t._uU(5),t.ALo(6,"currency"),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.gM2(3,2,e.priceAfterDiscount,"EGY","symbol","1.0-0")),t.xp6(3),t.Oqu(t.gM2(6,7,e.price,"EGY","symbol","1.0-0"))}}function k(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",38)(1,"div",39)(2,"div",40)(3,"span",22),t._UZ(4,"i",23),t.TgZ(5,"span",24),t._uU(6),t.qZA()(),t._UZ(7,"p-tag",25),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",41),t.YNc(10,q,1,0,"p-skeleton",16),t.YNc(11,E,1,3,"img",17),t.TgZ(12,"div",42),t._uU(13),t.qZA(),t.TgZ(14,"p-rating",21),t.NdJ("ngModelChange",function(i){const r=t.CHM(e).$implicit;return t.KtG(r.ratingsAverage=i)}),t.qZA()(),t.TgZ(15,"div",43),t.YNc(16,Y,3,6,"span",27),t.YNc(17,N,7,12,"div",28),t.TgZ(18,"div",44)(19,"button",45),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.addProductToCart(a.id))}),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",46),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.addProductToWishList(a.id))}),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"a",31),t._UZ(24,"button",32),t.ALo(25,"translate"),t.qZA()()()()()}if(2&o){const e=c.$implicit,n=t.oxw(2);t.xp6(6),t.Oqu(e.category.name),t.xp6(1),t.s9C("value",t.lcZ(8,15,"PRODUCTS.IN_STOCK")),t.xp6(3),t.Q6J("ngIf",!n.contentLoaded),t.xp6(1),t.Q6J("ngIf",n.contentLoaded),t.xp6(1),t.s9C("pTooltip",e.title),t.xp6(1),t.hij(" ",e.title.split(" ").splice(0,3).join(" "),""),t.xp6(1),t.Q6J("ngModel",e.ratingsAverage)("readonly",!0)("cancel",!1),t.xp6(2),t.Q6J("ngIf",!e.priceAfterDiscount),t.xp6(1),t.Q6J("ngIf",e.priceAfterDiscount),t.xp6(2),t.s9C("pTooltip",t.lcZ(20,17,"PRODUCTS.ADD_TO_CART")),t.xp6(2),t.s9C("pTooltip",t.lcZ(22,19,"PRODUCTS.ADD_TO_WISHLIST")),t.xp6(2),t.Q6J("routerLink",t.WLB(23,b,e.title,e._id)),t.xp6(1),t.s9C("pTooltip",t.lcZ(25,21,"PRODUCTS.PRODUCT_DETAILS"))}}function V(o,c){if(1&o&&(t.TgZ(0,"p-dataView",7,8),t.ALo(2,"searchBy"),t.YNc(3,O,5,5,"ng-template",9),t.YNc(4,J,25,26,"ng-template",10),t.YNc(5,k,26,26,"ng-template",11),t.qZA()),2&o){const e=t.oxw();t.Q6J("value",t.xi3(2,2,e.productList,e.searchTerm))("layout",e.layout)}}function G(o,c){1&o&&t._UZ(0,"app-data-not-found")}let R=(()=>{class o{constructor(e,n,i,a){this._productsService=e,this._sharedService=n,this._messageService=i,this._translateService=a,this.lang=localStorage.getItem("lang"),this.productList=[],this.layout="list",this.contentLoaded=!1,this.isthereDiscount=!1,this.searchTerm=""}ngOnInit(){this.getAllProducts(),this.contentLoadedInterval()}getAllProducts(){this._productsService.getAllProducts().subscribe({next:e=>{this.productList=e.data}})}contentLoadedInterval(){setTimeout(()=>{this.contentLoaded=!0},2e3)}addProductToCart(e){this._sharedService.AddProductToCart(e).subscribe({next:n=>{this._sharedService.cartItemCount.next(n.numOfCartItems),this._messageService.clear(),this._messageService.add({severity:"success",summary:this._translateService.instant("FORM.DIALOG_MESSAGE.SUCCESS"),detail:this._translateService.instant("FORM.DIALOG_MESSAGE.PRODUCT_ADDED_TO_CART")})}})}addProductToWishList(e){this._sharedService.AddProductToWishlist(e).subscribe({next:n=>{this._sharedService.wishlistItemCount.next(n.data.length),this._messageService.clear(),this._messageService.add({severity:"success",summary:this._translateService.instant("FORM.DIALOG_MESSAGE.SUCCESS"),detail:this._translateService.instant("FORM.DIALOG_MESSAGE.PRODUCT_ADDED_TO_WISHLIST")})}})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(I),t.Y36(P.F),t.Y36(m.ez),t.Y36(u.sK))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],decls:10,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"text-center","text-xl","font-bold","mt-5"],[1,"card"],[3,"value","layout",4,"ngIf","ngIfElse"],["noData",""],[3,"value","layout"],["dv",""],["pTemplate","header"],["pTemplate","listItem"],["pTemplate","gridItem"],[1,"flex","col-12","sm:col-6","lg:col-6","xl:col-6"],["type","search","pInputText","",1,"form-control","w-full",3,"ngModel","placeholder","ngModelChange"],[1,"col-12","sm:col-6","lg:col-6","xl:col-6"],[1,"flex","flex-column","xl:flex-row","xl:align-items-center","p-3","gap-4","m-2","shadow","border-round"],[4,"ngIf"],["class","shadow-2 block xl:block mx-auto border-round",3,"src","alt","title",4,"ngIf"],[1,"flex","flex-column","sm:flex-row","justify-content-between","align-items-center","xl:align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-center","sm:align-items-start","gap-3"],["tooltipPosition","top",1,"text-lg","font-bold","text-900",3,"pTooltip"],[3,"ngModel","readonly","cancel","ngModelChange"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-tag"],[1,"font-semibold"],["severity","success",3,"value"],[1,"flex","sm:flex-column","align-items-center","sm:align-items-end","gap-3","sm:gap-2"],["class","text-xl font-semibold",4,"ngIf"],["class","d-flex flex-column align-items-center",4,"ngIf"],["type","button","tooltipPosition","top","pButton","","icon","pi pi-shopping-cart",1,"md:align-self-end","mb-1","p-button-rounded","btn-main",3,"pTooltip","click"],["type","button","tooltipPosition","top","pButton","","icon","pi pi-heart",1,"md:align-self-end","mb-1","p-button-rounded","btn-main",3,"pTooltip","click"],[3,"routerLink"],["type","button","tooltipPosition","top","pButton","","icon","pi pi-eye",1,"md:align-self-end","mb-1","p-button-rounded","btn-main",3,"pTooltip"],[1,"shadow-2","block","xl:block","mx-auto","border-round",3,"src","alt","title"],[1,"text-xl","font-semibold"],[1,"d-flex","flex-column","align-items-center"],[1,"text-xl","font-semibold","text-danger"],[1,"text-xs","font-semibold","text-decoration-line-through"],[1,"col-12","sm:col-6","lg:col-12","xl:col-4","p-2"],[1,"p-3","m-2","shadow","surface-card","border-round"],[1,"flex","flex-wrap","align-items-center","justify-content-between","gap-2"],[1,"flex","flex-column","align-items-center","gap-3","py-5"],["tooltipPosition","top",1,"text-xl","font-bold",3,"pTooltip"],[1,"flex","align-items-center","justify-content-between"],[1,"btns"],["tooltipPosition","top","pButton","","icon","pi pi-shopping-cart",1,"md:align-self-end","mb-1","p-button-rounded","btn-main",3,"pTooltip","click"],["tooltipPosition","top","pButton","","icon","pi pi-heart",1,"md:align-self-end","mb-1","p-button-rounded","btn-main",3,"pTooltip","click"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,V,6,5,"p-dataView",5),t.qZA()()(),t.YNc(8,G,1,0,"ng-template",null,6,t.W1O)),2&n){const a=t.MAs(9);t.xp6(4),t.hij(" ",t.lcZ(5,3,"PRODUCTS.POPULAR_PRODULAR")," "),t.xp6(3),t.Q6J("ngIf",i.productList.length>0)("ngIfElse",a)}},dependencies:[p.O5,d.rH,_.VO,m.jx,_.uE,g.iG,x.V,l.Fj,l.JJ,l.On,f.Hq,T.O,h.u,C.H,p.H9,u.X$,y.u],styles:[".card[_ngcontent-%COMP%]{border:none!important}"]})}return o})();var D=s(5569),S=s(5557);function H(o,c){1&o&&t._UZ(0,"img",23),2&o&&t.Q6J("src",c.$implicit,t.LSH)}function Q(o,c){if(1&o&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(t.gM2(2,1,null==e.productItem?null:e.productItem.price,"EGY","symbol","1.0-0"))}}function $(o,c){if(1&o&&(t.TgZ(0,"div",25)(1,"span",26),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.TgZ(4,"span",27),t._uU(5),t.ALo(6,"currency"),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.gM2(3,2,null==e.productItem?null:e.productItem.priceAfterDiscount,"EGY","symbol","1.0-0")),t.xp6(3),t.Oqu(t.gM2(6,7,null==e.productItem?null:e.productItem.price,"EGY","symbol","1.0-0"))}}function F(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",6)(2,"div",7),t._UZ(3,"p-breadcrumb",8),t.qZA()(),t.TgZ(4,"div",9)(5,"p-galleria",10),t.YNc(6,H,1,1,"ng-template",11),t.qZA()(),t.TgZ(7,"div",12)(8,"div",13)(9,"div",14)(10,"h4",15),t._uU(11),t.qZA(),t.TgZ(12,"p",16),t._uU(13),t.qZA(),t._UZ(14,"p-rating",17),t.YNc(15,Q,3,6,"span",18),t.YNc(16,$,7,12,"div",19),t.qZA(),t.TgZ(17,"div",20)(18,"button",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addProductToCart(i.productItem.id))}),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addProductToWishList(i.productItem.id))}),t._uU(22),t.ALo(23,"translate"),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("model",e.items)("home",e.home),t.xp6(2),t.Q6J("value",e.productItemImages)("circular",!0)("autoPlay",!0)("transitionInterval",2e3)("showIndicators",!1)("showThumbnails",!1)("changeItemOnIndicatorHover",!0)("responsiveOptions",e.responsiveOptions),t.xp6(6),t.Oqu(null==e.productItem?null:e.productItem.title),t.xp6(2),t.Oqu(null==e.productItem?null:e.productItem.description),t.xp6(1),t.Q6J("ngModel",null==e.productItem?null:e.productItem.ratingsAverage)("readonly",!0)("cancel",!1),t.xp6(1),t.Q6J("ngIf",!(null!=e.productItem&&e.productItem.priceAfterDiscount)),t.xp6(1),t.Q6J("ngIf",null==e.productItem?null:e.productItem.priceAfterDiscount),t.xp6(3),t.Oqu(t.lcZ(20,19,"PRODUCTS.ADD_TO_CART")),t.xp6(3),t.Oqu(t.lcZ(23,21,"PRODUCTS.ADD_TO_WISHLIST"))}}function j(o,c){if(1&o&&(t.TgZ(0,"div",33)(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",34),t._UZ(5,"p-dataViewLayoutOptions"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"PRODUCTS.RELATED_PRODUCT")),t.xp6(3),t.uIk("layout",e.layout)}}function K(o,c){1&o&&t._UZ(0,"p-skeleton")}function W(o,c){if(1&o&&t._UZ(0,"img",50),2&o){const e=t.oxw().$implicit;t.Q6J("src",e.imageCover,t.LSH)("alt",e.title)("title",e.title)}}function B(o,c){if(1&o&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.gM2(2,1,e.price,"EGY","symbol","1.0-0"))}}function z(o,c){if(1&o&&(t.TgZ(0,"div",25)(1,"span",26),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.TgZ(4,"span",27),t._uU(5),t.ALo(6,"currency"),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.gM2(3,2,e.priceAfterDiscount,"EGY","symbol","1.0-0")),t.xp6(3),t.Oqu(t.gM2(6,7,e.price,"EGY","symbol","1.0-0"))}}function X(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",35),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.getSelectedProduct(a.title,a._id))}),t.TgZ(1,"div",36),t.YNc(2,K,1,0,"p-skeleton",37),t.YNc(3,W,1,3,"img",38),t.TgZ(4,"div",39)(5,"div",40)(6,"div",41),t._uU(7),t.qZA(),t.TgZ(8,"p-rating",42),t.NdJ("ngModelChange",function(i){const r=t.CHM(e).$implicit;return t.KtG(r.ratingsAverage=i)}),t.qZA(),t.TgZ(9,"span",43),t._UZ(10,"i",44),t.TgZ(11,"span",45),t._uU(12),t.qZA()(),t._UZ(13,"p-tag",46),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",47),t.YNc(16,B,3,6,"span",18),t.YNc(17,z,7,12,"div",19),t.TgZ(18,"button",48),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.addProductToCart(a.id))}),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"button",49),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addProductToWishList(i.productItem.id))}),t.ALo(21,"translate"),t.qZA()()()()()}if(2&o){const e=c.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.contentLoaded),t.xp6(1),t.Q6J("ngIf",n.contentLoaded),t.xp6(3),t.s9C("pTooltip",e.title),t.xp6(1),t.hij("",e.title.split(" ").splice(0,3).join(" ")," "),t.xp6(1),t.Q6J("ngModel",e.ratingsAverage)("readonly",!0)("cancel",!1),t.xp6(4),t.Oqu(e.category.name),t.xp6(1),t.s9C("value",t.lcZ(14,13,"PRODUCTS.IN_STOCK")),t.xp6(3),t.Q6J("ngIf",!e.priceAfterDiscount),t.xp6(1),t.Q6J("ngIf",e.priceAfterDiscount),t.xp6(1),t.s9C("pTooltip",t.lcZ(19,15,"PRODUCTS.ADD_TO_CART")),t.xp6(2),t.s9C("pTooltip",t.lcZ(21,17,"PRODUCTS.ADD_TO_WISHLIST"))}}function tt(o,c){1&o&&t._UZ(0,"p-skeleton")}function et(o,c){if(1&o&&t._UZ(0,"img",50),2&o){const e=t.oxw().$implicit;t.Q6J("src",e.imageCover,t.LSH)("alt",e.title)("title",e.title)}}function ot(o,c){if(1&o&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.gM2(2,1,e.price,"EGY","symbol","1.0-0"))}}function nt(o,c){if(1&o&&(t.TgZ(0,"div",25)(1,"span",26),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.TgZ(4,"span",27),t._uU(5),t.ALo(6,"currency"),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.gM2(3,2,e.priceAfterDiscount,"EGY","symbol","1.0-0")),t.xp6(3),t.Oqu(t.gM2(6,7,e.price,"EGY","symbol","1.0-0"))}}function it(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",51)(1,"div",52),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.getSelectedProduct(a.title,a._id))}),t.TgZ(2,"div",53)(3,"span",43),t._UZ(4,"i",44),t.TgZ(5,"span",45),t._uU(6),t.qZA()(),t._UZ(7,"p-tag",46),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",54),t.YNc(10,tt,1,0,"p-skeleton",37),t.YNc(11,et,1,3,"img",38),t.TgZ(12,"div",55),t._uU(13),t.qZA(),t.TgZ(14,"p-rating",42),t.NdJ("ngModelChange",function(i){const r=t.CHM(e).$implicit;return t.KtG(r.ratingsAverage=i)}),t.qZA()(),t.TgZ(15,"div",56),t.YNc(16,ot,3,6,"span",18),t.YNc(17,nt,7,12,"div",19),t.TgZ(18,"div",57)(19,"button",48),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.addProductToCart(a.id))}),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",49),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addProductToWishList(i.productItem.id))}),t.ALo(22,"translate"),t.qZA()()()()()}if(2&o){const e=c.$implicit,n=t.oxw(2);t.xp6(6),t.Oqu(e.category.name),t.xp6(1),t.s9C("value",t.lcZ(8,13,"PRODUCTS.IN_STOCK")),t.xp6(3),t.Q6J("ngIf",!n.contentLoaded),t.xp6(1),t.Q6J("ngIf",n.contentLoaded),t.xp6(1),t.s9C("pTooltip",e.title),t.xp6(1),t.hij(" ",e.title.split(" ").splice(0,3).join(" "),""),t.xp6(1),t.Q6J("ngModel",e.ratingsAverage)("readonly",!0)("cancel",!1),t.xp6(2),t.Q6J("ngIf",!e.priceAfterDiscount),t.xp6(1),t.Q6J("ngIf",e.priceAfterDiscount),t.xp6(2),t.s9C("pTooltip",t.lcZ(20,15,"PRODUCTS.ADD_TO_CART")),t.xp6(2),t.s9C("pTooltip",t.lcZ(22,17,"PRODUCTS.ADD_TO_WISHLIST"))}}function ct(o,c){if(1&o&&(t.TgZ(0,"p-dataView",28,29),t.YNc(2,j,6,4,"ng-template",30),t.YNc(3,X,22,19,"ng-template",31),t.YNc(4,it,23,19,"ng-template",32),t.qZA()),2&o){const e=t.oxw();t.Q6J("value",e.relatedProducts)("layout",e.layout)}}function at(o,c){1&o&&t._UZ(0,"app-data-not-found")}let rt=(()=>{class o{constructor(e,n,i,a,r,_t){this._productsService=e,this._activatedRoute=n,this._router=i,this._sharedService=a,this._messageService=r,this._translateService=_t,this.productId="",this.productItemImages=[],this.responsiveOptions=[{breakpoint:"1024px",numVisible:5},{breakpoint:"768px",numVisible:3},{breakpoint:"560px",numVisible:1}],this.items=[],this.productList=[],this.relatedProducts=[],this.layout="list",this.contentLoaded=!1}ngOnInit(){this.getProductId(),this.getSpecificProduct(this.productId),this.getrelatedProducts(),this.contentLoadedInterval()}getProductId(){this.productId=this._activatedRoute.snapshot.params.productId}getSpecificProduct(e){this._productsService.getSpecificProduct(e).subscribe({next:n=>{this.productItem=n.data,this.productItemImages=n.data.images,this.items=[{label:this.productItem?.category?.name,routerLink:["/categories/categoryDetails",this.productItem?.category?.name,this.productItem?.category?._id]},{label:this.productItem?.subcategory[0]?.name,routerLink:["/subCategories/subCategoryDetails",this.productItem?.subcategory[0]?.name,this.productItem?.subcategory[0]?._id]},{label:this.productItem?.brand?.name,routerLink:["/brands/brandDetails",this.productItem?.brand?.name,this.productItem?.brand?._id]}],this.home={icon:"pi pi-home",routerLink:"/"}}})}getrelatedProducts(){this._productsService.getAllProducts().subscribe({next:e=>{this.productList=e.data,this.relatedProducts=this.productList.filter(n=>n.subcategory[0]._id==this.productItem?.subcategory[0]?._id)}})}contentLoadedInterval(){setTimeout(()=>{this.contentLoaded=!0},2e3)}getSelectedProduct(e,n){this._router.navigate(["/products/productDetails",e,n],{relativeTo:this._activatedRoute}),this.getSpecificProduct(n)}addProductToCart(e){this._sharedService.AddProductToCart(e).subscribe({next:n=>{this._sharedService.cartItemCount.next(n.numOfCartItems),this._messageService.clear(),this._messageService.add({severity:"success",summary:this._translateService.instant("FORM.DIALOG_MESSAGE.SUCCESS"),detail:this._translateService.instant("FORM.DIALOG_MESSAGE.PRODUCT_ADDED_TO_CART")})}})}addProductToWishList(e){this._sharedService.AddProductToWishlist(e).subscribe({next:n=>{this._sharedService.wishlistItemCount.next(n.data.length),this._messageService.clear(),this._messageService.add({severity:"success",summary:this._translateService.instant("FORM.DIALOG_MESSAGE.SUCCESS"),detail:this._translateService.instant("FORM.DIALOG_MESSAGE.PRODUCT_ADDED_TO_WISHLIST")})}})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(I),t.Y36(d.gz),t.Y36(d.F0),t.Y36(P.F),t.Y36(m.ez),t.Y36(u.sK))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-details"]],decls:7,vars:4,consts:[[1,"container-fluid"],["class","row no-gutters",4,"ngIf","ngIfElse"],[1,"row","no-gutters"],[1,"card",2,"border","unset"],[3,"value","layout",4,"ngIf","ngIfElse"],["noData",""],[1,"col-12"],[1,"card","flex","justify-content-center"],[1,"max-w-full",3,"model","home"],[1,"col-lg-4"],[3,"value","circular","autoPlay","transitionInterval","showIndicators","showThumbnails","changeItemOnIndicatorHover","responsiveOptions"],["pTemplate","item"],[1,"col-lg-8"],[1,"product-details"],[1,"d-flex","justify-content-center","flex-column","align-items-center","m-4"],[1,"text-main"],[1,"text-center"],[3,"ngModel","readonly","cancel"],["class","text-xl font-semibold",4,"ngIf"],["class","d-flex flex-column align-items-center",4,"ngIf"],[1,"d-flex","flex-row","justify-content-center"],["pButton","","icon","pi pi-shopping-cart mx-1",1,"btn-main",3,"click"],["pButton","","icon","pi pi-heart mx-1",1,"btn-main",3,"click"],[2,"width","100%","display","block",3,"src"],[1,"text-xl","font-semibold"],[1,"d-flex","flex-column","align-items-center"],[1,"text-xl","font-semibold","text-danger"],[1,"text-xs","font-semibold","text-decoration-line-through"],[3,"value","layout"],["dv",""],["pTemplate","header"],["pTemplate","listItem"],["pTemplate","gridItem"],[1,"flex","justify-content-start"],[1,"flex","justify-content-end"],[1,"col-12","sm:col-6","lg:col-6","xl:col-6","pointerCard",3,"click"],[1,"flex","flex-column","xl:flex-row","xl:align-items-center","p-3","gap-4","m-2","shadow","border-round"],[4,"ngIf"],["class","shadow-2 block xl:block mx-auto border-round",3,"src","alt","title",4,"ngIf"],[1,"flex","flex-column","sm:flex-row","justify-content-between","align-items-center","xl:align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-center","sm:align-items-start","gap-3"],["tooltipPosition","top",1,"text-lg","font-bold","text-900",3,"pTooltip"],[3,"ngModel","readonly","cancel","ngModelChange"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-tag"],[1,"font-semibold"],["severity","success",3,"value"],[1,"flex","sm:flex-column","align-items-center","sm:align-items-end","gap-3","sm:gap-2"],["tooltipPosition","top","pButton","","icon","pi pi-shopping-cart",1,"md:align-self-end","mb-2","p-button-rounded","btn-main",3,"pTooltip","click"],["tooltipPosition","top","pButton","","icon","pi pi-heart",1,"md:align-self-end","mb-2","p-button-rounded","btn-main",3,"pTooltip","click"],[1,"shadow-2","block","xl:block","mx-auto","border-round",3,"src","alt","title"],[1,"col-12","sm:col-6","lg:col-12","xl:col-4","p-2"],[1,"p-3","m-2","shadow","surface-card","border-round","pointerCard",3,"click"],[1,"flex","flex-wrap","align-items-center","justify-content-between","gap-2"],[1,"flex","flex-column","align-items-center","gap-3","py-5"],["tooltipPosition","top",1,"text-xl","font-bold",3,"pTooltip"],[1,"flex","align-items-center","justify-content-between"],[1,"btns"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,F,24,23,"div",1),t.TgZ(2,"div",2)(3,"div",3),t.YNc(4,ct,5,2,"p-dataView",4),t.qZA()()(),t.YNc(5,at,1,0,"ng-template",null,5,t.W1O)),2&n){const a=t.MAs(6);t.xp6(1),t.Q6J("ngIf",i.productItem)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",i.relatedProducts.length>0)("ngIfElse",a)}},dependencies:[p.O5,_.VO,m.jx,_.uE,g.iG,x.V,l.JJ,l.On,f.Hq,T.O,h.u,D.dz,S.a,C.H,p.H9,u.X$],styles:[".product-details[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;flex-direction:column;box-shadow:#0000000d 0 6px 24px,#00000014 0 0 0 1px;border-radius:10px}.card[_ngcontent-%COMP%]{margin:10px;width:-webkit-fill-available}"]})}return o})();const lt=[{path:"",component:R,pathMatch:"prefix"},{path:"productDetails/:productTitle/:productId",canActivate:[s(5240).a],component:rt}];let pt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(lt),d.Bz]})}return o})();var dt=s(7932);let ut=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[p.ez,pt,Z.JF,_.FI,g.Xt,x.W,l.u5,f.hJ,T.m,h.z,u.aw.forChild(),D.kT,S.w,dt.L,C.H]})}return o})()}}]);